# Claude-Flow 사용 매뉴얼 (Claude Code 환경)

> 이 매뉴얼은 Claude Code 대화 환경에서 Claude-Flow의 기능을 활용하는 방법을 안내합니다.

## 📋 목차

- [개요](#개요)
- [초기 설정](#초기-설정)
- [자연어 스킬 활용](#자연어-스킬-활용)
- [메모리 시스템](#메모리-시스템)
- [스웜 오케스트레이션](#스웜-오케스트레이션)
- [주요 워크플로우](#주요-워크플로우)
- [MCP 도구 활용](#mcp-도구-활용)

---

## 개요

Claude-Flow는 Claude Code 환경에서 **자연어만으로** AI 에이전트를 조율하고 협업할 수 있는 엔터프라이즈급 플랫폼입니다.

### 핵심 특징

- 🎨 **25개 자연어 스킬**: 명령어 암기 불필요, 자연스러운 대화로 작업 수행
- 🧠 **하이브리드 메모리**: AgentDB(96x 빠른 검색) + ReasoningBank
- 🐝 **스웜 인텔리전스**: 멀티 에이전트 자동 협업
- 🔧 **100개 MCP 도구**: 포괄적인 자동화 툴킷

---

## 초기 설정

### 1. 전제 조건

Claude Code를 사용하고 있다면 이미 기본 환경이 준비되어 있습니다.

### 2. 프로젝트 초기화

Claude에게 다음과 같이 요청하세요:

```
"claude-flow를 초기화해줘"
```

또는:

```
"이 프로젝트에 claude-flow 설정을 추가해줘"
```

이렇게 하면 Claude가 자동으로:
- `.claude-flow/` 디렉토리 생성
- 프로젝트 설정 파일 구성
- 필요한 hooks 시스템 설정

---

## 자연어 스킬 활용

**핵심 원칙**: 명령어를 외울 필요가 없습니다. 하고 싶은 작업을 자연스럽게 설명하면 됩니다.

### 개발 & 방법론 스킬

#### SPARC 방법론

```
"SPARC 방법론으로 사용자 인증 기능을 만들어줘"
```

**작동 방식**:
- Specification(명세) → Pseudocode(의사코드) → Architecture(구조) → Refinement(정제) → Completion(완성)
- 체계적인 TDD 기반 개발 진행

#### 페어 프로그래밍

```
"이 기능을 페어 프로그래밍 방식으로 함께 개발하자"
```

**작동 방식**:
- Driver-Navigator 역할 분담
- 실시간 코드 리뷰 및 개선 제안

### AI & 메모리 스킬

#### AgentDB 벡터 검색

```
"벡터 검색으로 사용자 인증 관련 코드를 찾아줘"
```

**작동 방식**:
- 의미론적 유사도 기반 검색 (키워드가 아닌 의미 이해)
- 96x-164x 빠른 성능
- HNSW 인덱싱 활용

#### 메모리 저장 및 검색

```
"이 API 설계 내용을 'backend' 네임스페이스에 저장해줘"
```

```
"지난번에 저장한 API 설정 정보를 찾아줘"
```

**작동 방식**:
- 프로젝트 지식을 영구 저장
- 네임스페이스로 체계적 분류
- 2-3ms 빠른 검색 속도

### 스웜 협업 스킬

#### 멀티 에이전트 오케스트레이션

```
"REST API와 프론트엔드를 동시에 만들 스웜을 구성해줘"
```

**작동 방식**:
- 자동으로 역할별 에이전트 생성 (researcher, coder, reviewer)
- 병렬 작업 수행
- 결과 통합 및 조율

#### Hive-Mind 지능

```
"엔터프라이즈급 인증 시스템을 만들 Hive-Mind를 시작해줘"
```

**작동 방식**:
- Queen 에이전트가 전체 조율
- Worker 에이전트들이 세부 작업 분담
- 프로젝트 전체 컨텍스트 유지

### GitHub 통합 스킬

#### PR 코드 리뷰

```
"이 PR을 보안과 성능 관점에서 리뷰해줘"
```

**작동 방식**:
- 자동으로 변경사항 분석
- 보안 취약점, 성능 이슈 탐지
- 개선 제안 제공

#### 멀티 저장소 관리

```
"연관된 3개 저장소의 코드를 동시에 업데이트해줘"
```

**작동 방식**:
- 의존성 분석
- 동기화된 변경 적용
- 통합 테스트 수행

### 자동화 & 품질 스킬

#### Hooks 시스템

```
"파일 편집 후 자동으로 포맷팅되도록 설정해줘"
```

**작동 방식**:
- pre/post 작업 hooks 자동 설정
- 파일 저장 시 자동 포맷팅
- 코드 품질 자동 검증

#### 성능 분석

```
"이 코드의 성능 병목 지점을 분석해줘"
```

**작동 방식**:
- 자동 벤치마크 실행
- 병목 지점 식별
- 최적화 제안

---

## 메모리 시스템

### AgentDB 활용 (고성능)

#### 의미론적 검색

```
"사용자 인증 플로우와 관련된 모든 코드를 찾아줘"
```

**Claude가 자동으로**:
- 의미를 이해하여 관련 코드 검색
- 유사도 점수와 함께 결과 제공
- 컨텍스트 포함하여 설명

#### 지식 저장

```
"이 API 설계 문서를 'architecture' 네임스페이스에 저장해줘"
```

**Claude가 자동으로**:
- 문서 임베딩 생성
- 메타데이터와 함께 저장
- 향후 검색 가능하도록 인덱싱

### ReasoningBank 활용 (패턴 매칭)

#### 빠른 패턴 검색

```
"'API 설정'과 관련된 메모리를 찾아줘"
```

**Claude가 자동으로**:
- 패턴 기반 빠른 검색 (2-3ms)
- 관련 컨텍스트 제공
- 시간순/관련도순 정렬

#### 네임스페이스 관리

```
"backend 네임스페이스의 모든 메모리를 보여줘"
```

**Claude가 자동으로**:
- 네임스페이스별 메모리 나열
- 통계 정보 제공
- 정리 및 관리 제안

---

## 스웜 오케스트레이션

### 단순 작업 스웜

```
"인증 기능이 있는 REST API를 만들어줘"
```

**Claude가 자동으로**:
1. 작업 복잡도 분석
2. 필요한 에이전트 결정 (1-5개)
3. 역할 분담 및 작업 시작
4. 진행 상황 실시간 업데이트
5. 통합 및 검증

### Hive-Mind 복잡 프로젝트

```
"마이크로서비스 아키텍처로 전자상거래 시스템을 설계해줘"
```

**Claude가 자동으로**:
1. 프로젝트 범위 분석
2. Hive-Mind 초기화 제안
3. Queen 에이전트 생성
4. Worker 에이전트 스폰 (architect, developer, tester 등)
5. 단계별 진행
6. 세션 저장 (나중에 재개 가능)

### 세션 관리

#### 세션 재개

```
"어제 작업하던 전자상거래 프로젝트 계속하자"
```

**Claude가 자동으로**:
- 이전 세션 찾기
- 컨텍스트 복원
- 진행 상황 요약
- 다음 단계 제안

#### 세션 상태 확인

```
"현재 진행 중인 모든 작업의 상태를 보여줘"
```

**Claude가 자동으로**:
- 활성 에이전트 목록
- 각 작업 진행률
- 다음 마일스톤
- 예상 완료 시간

---

## 주요 워크플로우

### 워크플로우 1: 단일 기능 개발

```
"사용자 로그인 기능을 개발하자. SPARC 방법론으로 진행해줘"
```

**진행 과정**:
1. **Specification**: Claude가 요구사항 명세 작성
2. **Pseudocode**: 의사코드로 로직 설계
3. **Architecture**: 파일 구조 및 아키텍처 제안
4. **Refinement**: 코드 작성 및 테스트
5. **Completion**: 통합 테스트 및 문서화

**대화 예시**:
```
사용자: "사용자 로그인 기능을 개발하자. SPARC 방법론으로 진행해줘"

Claude: "네, SPARC 방법론으로 사용자 로그인 기능을 개발하겠습니다.

[Specification 단계]
다음 요구사항을 확인해주세요:
1. 이메일/비밀번호 기반 인증
2. JWT 토큰 발급
3. 비밀번호 해싱 (bcrypt)
4. 로그인 실패 제한 (5회)

이대로 진행할까요, 아니면 수정할 부분이 있나요?"

사용자: "좋아, 진행해"

Claude: "[Pseudocode 단계]
로직을 설계했습니다:
```
function login(email, password):
  user = findUserByEmail(email)
  if not user:
    return error('User not found')
  
  if user.loginAttempts >= 5:
    return error('Account locked')
  ...
```
다음 단계로 넘어갈까요?"
```

### 워크플로우 2: 멀티 기능 프로젝트

```
"'shop-app' 프로젝트를 시작하자. 인증과 상품 관리 기능이 필요해"
```

**진행 과정**:
1. **프로젝트 초기화**: Claude가 구조 제안
2. **기능 1 - 인증**: 별도 네임스페이스로 개발
3. **기능 2 - 상품 관리**: 병렬로 개발 가능
4. **통합**: 두 기능 연결 및 테스트
5. **문서화**: 자동 문서 생성

**대화 예시**:
```
사용자: "'shop-app' 프로젝트를 시작하자. 인증과 상품 관리 기능이 필요해"

Claude: "네, 전자상거래 앱 프로젝트를 시작하겠습니다.

프로젝트 구조를 다음과 같이 제안합니다:
```
shop-app/
├── backend/
│   ├── auth/        # 인증 기능
│   └── products/    # 상품 관리
└── frontend/
    ├── auth/
    └── products/
```

먼저 인증 기능부터 시작할까요, 아니면 두 기능을 동시에 개발할까요?"

사용자: "동시에 개발하자"

Claude: "좋습니다. 스웜 시스템을 활용하여 병렬 개발을 시작합니다.

[Swarm 1 - Auth 팀]
- Backend 개발자: JWT 인증 구현
- Frontend 개발자: 로그인 UI

[Swarm 2 - Products 팀]
- Backend 개발자: 상품 CRUD API
- Frontend 개발자: 상품 목록 UI

진행 상황을 실시간으로 업데이트하겠습니다..."
```

### 워크플로우 3: 리서치 & 분석

```
"마이크로서비스 아키텍처의 모범 사례를 리서치하고 우리 프로젝트에 적용 가능한 패턴을 정리해줘"
```

**진행 과정**:
1. **리서치 에이전트 스폰**: 자료 수집
2. **분석 에이전트 스폰**: 패턴 분석
3. **메모리 저장**: 학습한 내용 영구 저장
4. **적용 제안**: 프로젝트별 맞춤 제안
5. **문서화**: 리서치 결과 정리

**대화 예시**:
```
사용자: "마이크로서비스 아키텍처의 모범 사례를 리서치해줘"

Claude: "마이크로서비스 아키텍처 리서치를 시작합니다.

[Research Agent 활동 중]
- API Gateway 패턴 분석...
- Service Discovery 방법 조사...
- 데이터베이스 전략 연구...

[발견한 주요 패턴]
1. API Gateway (Kong, nginx)
2. Service Mesh (Istio, Linkerd)
3. Event-Driven Architecture (Kafka)
...

이 내용을 'architecture' 네임스페이스에 저장했습니다.
우리 프로젝트에 적용해볼까요?"
```

### 워크플로우 4: 코드 리뷰 & 개선

```
"이 PR의 코드를 리뷰하고 보안과 성능 관점에서 개선점을 제안해줘"
```

**진행 과정**:
1. **코드 분석**: 변경사항 파악
2. **보안 검토**: 취약점 탐지
3. **성능 분석**: 병목 지점 확인
4. **개선 제안**: 구체적인 수정 방안
5. **자동 수정**: 허가 시 직접 적용

---

## MCP 도구 활용

Claude Code에서는 MCP 도구가 자동으로 통합되어 있어, 자연어로 요청하면 Claude가 알아서 적절한 도구를 선택합니다.

### 메모리 도구

```
"이 설정을 저장해줘"
```

**Claude가 사용하는 도구**:
- `mcp__claude-flow__memory_usage`
- 자동으로 적절한 네임스페이스 선택
- 메타데이터 자동 생성

### 검색 도구

```
"데이터베이스 설정 관련 정보를 찾아줘"
```

**Claude가 사용하는 도구**:
- `mcp__claude-flow__memory_search`
- 의미론적 검색 또는 패턴 매칭 자동 선택
- 관련도 순으로 결과 정렬

### GitHub 도구

```
"최근 PR들의 상태를 확인해줘"
```

**Claude가 사용하는 도구**:
- `github_pr_manage`
- 자동으로 저장소 정보 파악
- 통계 및 인사이트 제공

### 성능 도구

```
"이 함수의 성능을 벤치마크해줘"
```

**Claude가 사용하는 도구**:
- `benchmark_run`
- 자동으로 테스트 케이스 생성
- 결과 분석 및 최적화 제안

---

## 💡 실전 팁

### 1. 명확한 의도 전달

❌ **모호한 요청**:
```
"코드 좀 고쳐줘"
```

✅ **명확한 요청**:
```
"로그인 API의 에러 처리를 개선하고, 적절한 HTTP 상태 코드를 반환하도록 수정해줘"
```

### 2. 컨텍스트 제공

❌ **컨텍스트 없음**:
```
"API 만들어줘"
```

✅ **컨텍스트 포함**:
```
"FastAPI로 사용자 CRUD API를 만들어줘. Supabase를 DB로 사용하고, JWT 인증을 적용해줘"
```

### 3. 단계별 확인

```
"사용자: 전자상거래 시스템을 만들어줘"

"Claude: 큰 프로젝트네요. 단계별로 진행하겠습니다.
먼저 다음 기능 중 어떤 것부터 시작할까요?
1. 사용자 인증
2. 상품 관리
3. 장바구니
4. 결제"

"사용자: 1번부터"
```

### 4. 네임스페이스 활용

```
"backend 네임스페이스에 이 API 설계를 저장해줘"
"frontend 네임스페이스에서 컴포넌트 구조를 찾아줘"
```

### 5. 세션 재개 활용

```
"어제 작업하던 인증 기능 계속하자"
"지난주 프로젝트 상태 확인해줘"
```

---

## 🔍 문제 해결

### 검색 결과가 없을 때

```
사용자: "API 설정을 찾아줘"
Claude: "검색 결과가 없습니다."

사용자: "그럼 '설정', 'config', 'configuration' 모두 검색해봐"
```

### 작업이 복잡할 때

```
사용자: "이거 너무 복잡한데?"

Claude: "네, Hive-Mind 시스템으로 전환하겠습니다.
이렇게 하면 여러 에이전트가 협업하여 효율적으로 처리할 수 있습니다."
```

### 이전 작업 찾기

```
사용자: "지난번에 작업한 내용이 뭐였지?"

Claude: "메모리를 검색했습니다.
지난 작업:
1. REST API 설계 (2일 전)
2. 인증 시스템 구현 (1일 전)
3. 프론트엔드 컴포넌트 (3시간 전)

어떤 작업을 계속할까요?"
```

---

## 📊 성능 이해하기

### AgentDB vs ReasoningBank

| 특징 | AgentDB | ReasoningBank |
|------|---------|---------------|
| 검색 방식 | 의미론적 (벡터) | 패턴 매칭 |
| 속도 | 96x-164x 빠름 | 2-3ms |
| 정확도 | 매우 높음 | 높음 |
| 용도 | 복잡한 의미 검색 | 빠른 키워드 검색 |

Claude가 자동으로 상황에 맞게 선택합니다.

### 스웜 vs Hive-Mind

| 특징 | Swarm | Hive-Mind |
|------|-------|-----------|
| 복잡도 | 단순-중간 | 중간-복잡 |
| 에이전트 수 | 1-5개 | 5-10개+ |
| 세션 유지 | 임시 | 영구 |
| 용도 | 단일 기능 | 전체 프로젝트 |

---

## 🎓 학습 경로

### 초급: 기본 스킬 익히기

1주차:
```
- "SPARC으로 간단한 TODO API 만들어줘"
- "이 코드를 메모리에 저장해줘"
- "저장한 내용을 검색해줘"
```

### 중급: 스웜 활용

2-3주차:
```
- "인증 시스템을 스웜으로 개발하자"
- "프론트엔드와 백엔드를 동시에 작업하자"
- "이 PR을 리뷰해줘"
```

### 고급: Hive-Mind 마스터

4주차+:
```
- "마이크로서비스 프로젝트를 Hive-Mind로 관리하자"
- "여러 저장소를 동시에 업데이트하자"
- "리서치하고 학습한 내용을 적용하자"
```

---

## 📚 추가 리소스

### 공식 문서
- [Skills 튜토리얼](https://github.com/ruvnet/claude-flow/blob/main/docs/guides/skills-tutorial.md)
- [메모리 시스템 가이드](https://github.com/ruvnet/claude-flow/blob/main/docs/MEMORY-SYSTEM.md)
- [AgentDB 문서](https://github.com/ruvnet/claude-flow/blob/main/docs/agentdb)

### 커뮤니티
- [GitHub Issues](https://github.com/ruvnet/claude-flow/issues)
- [Discord](https://discord.com/invite/dfxmpwkG2D)

---

## ✅ 체크리스트

### 프로젝트 시작 시

- [ ] Claude-Flow 초기화 완료
- [ ] 프로젝트 구조 논의
- [ ] 주요 기능 우선순위 결정
- [ ] 네임스페이스 전략 수립

### 개발 중

- [ ] 중요한 설계 결정은 메모리에 저장
- [ ] 복잡한 작업은 스웜/Hive-Mind 활용
- [ ] 주기적으로 세션 상태 확인
- [ ] 학습한 패턴을 메모리에 기록

### 완료 시

- [ ] 최종 코드 리뷰
- [ ] 메모리 정리 및 문서화
- [ ] 다음 작업을 위한 컨텍스트 저장
- [ ] 세션 요약 생성

---

**기억하세요**: Claude-Flow는 자연어로 대화하듯 사용하는 도구입니다. 
명령어를 외우지 말고, 하고 싶은 작업을 자연스럽게 설명하세요! 🚀
